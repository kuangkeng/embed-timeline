<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/timeline.js"></script>
  </head>

<style>
body {
  font-family: 'MarcinAntB', sans-serif;
  font-size: 14px;
  line-height: 1.3em;
  color: #666666;
      }  

#wrapper {
    /* border:1px solid #D3D3D3; */
    max-width: 600px;  /*INPUT: set the width of the chart*/
    padding: 0px;
    margin: 0 auto;
}

#container{
    padding: 0px;
    height: 700px;  /*INPUT: set the height of the chart*/
    max-width: 100%;
}
.highcharts-data-label span{
    font-size: 14px;       
}
.popbox > span{
        font-size: 14px !important;
        line-height: 1.3em;
}

@media (max-width: 500px ) { 
    .highcharts-data-label span{
        font-size: 10px;       
    }
    .popbox > span{
        font-size: 10px !important;
        line-height: 1.3em;
    }
}

</style>
<body>
<div id="wrapper">   
    <div id="container"></div>
</div>
</body>

<script>
var adjust = -20;
var tooltipWidth = 300;
if($(window).width() < 500){

    tooltipWidth = 250;
}

$(function () {
    $('#container').highcharts({
        chart: {
            zoomType: 'x',
            type: 'timeline',
            inverted: true,
            style: {
              fontFamily: 'MarcinAntB, sans-serif',
            }
        },
        xAxis: {
            type: 'datetime',
            visible: false
        },
        yAxis: {
            gridLineWidth: 1,
            title: null,
            labels: {
            enabled: false
            }
        },
        legend: {enabled: false},
        credits: {enabled: false,},
        title: {text: null},
        subtitle: {enabled: false},
        tooltip: {
            outside: true,
            className: "popbox",
            useHTML: true,
            formatter: function () {
                if(this.point.description == ""){
                    return false;
                } else {
                        return this.point.description;
                }  
            },
            style: {width: tooltipWidth},
        },
        series: [{
            dataLabels: {
                useHTML: true,
                allowOverlap: true,
                formatter: 
                function () {
                    if(this.point.name == ""){
                    }else{
                        if($(window).width() < 350){
                            return '<div style="width: 120px; padding-left:3px; line-height:1em;"><div style="padding-bottom:3px;"><span style="color:#7ed321">● </span><span style="font-weight: bold;"> ' 
                            + this.point.label + '</span></div><span style="white-space: normal;">'+ this.point.name +'</span></div>';
                        } else if ($(window).width() < 500) {
                            return '<div style="width: 140px; padding-left:3px; line-height:1em;"><div style="padding-bottom:3px;"><span style="color:#7ed321">● </span><span style="font-weight: bold;"> ' 
                            + this.point.label + '</span></div><span style="white-space: normal;">'+ this.point.name +'</span></div>';
                        } else {
                            return '<div style="width: 230px; padding-left:3px; line-height:1.2em;"><div style="padding-bottom:5px;"><span style="color:#7ed321">● </span><span style="font-weight: bold;"> ' 
                            + this.point.label + '</span></div><span style="white-space: normal;">'+ this.point.name +'</span></div>';
                        }
                    }
                },
            },
            marker: {
            symbol: 'circle'
            },
            data: [
            {dataLabels:{x:-150}, x: Date.UTC(2021, 0 ,16), 
            {dataLabels:{x:150,y:-20}, x: Date.UTC(2021, 2 ,27), 
            {dataLabels:{x:-150}, x: Date.UTC(2021, 3 ,12), 
            {dataLabels:{x:150,y:20}, x: Date.UTC(2021, 4 ,15), 
            {dataLabels:{x:-150, y:adjust}, x: Date.UTC(2021, 8 ,1), 
            {dataLabels:{x:150}, x: Date.UTC(2021, 8 ,25), 
            {dataLabels:{x:-150,y:10}, x: Date.UTC(2021, 9 ,2), 
            {dataLabels:{x:150}, x: Date.UTC(2021, 11 ,1), 
            {dataLabels:{x:-150}, x: Date.UTC(2022, 0 ,15), 
            {dataLabels:{x:-150}, x: Date.UTC(2022, 1 ,31),marker:{symbol: 'url(https://kuangkeng.github.io/embed-timeline/double-line-2.png)'}, name:"", label:"", description:"", color:"#7ed321"},
            {dataLabels:{x:-150}, x: Date.UTC(2022, 3 ,15), 
            ]
        }]
    });
});
</script>